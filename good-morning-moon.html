<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Album Playlist</title>

    <style>
      :root {
        --bg: #0f1f1e;
        --panel: #142826;
        --accent: #7fa99b;
        --accent-soft: #5f8579;
        --highlight: #a6c7a2;
        --text: #e6f0ed;
        --muted: #8fa7a1;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        background: var(--bg);
        color: var(--text);
        font-family: system-ui, sans-serif;
      }

      main {
        max-width: 760px;
        margin: auto;
        padding: 3rem 1.5rem;
      }

      /* ===== Album Header ===== */

      .album-header {
        display: flex;
        gap: 2rem;
        align-items: center;
        margin-bottom: 2.5rem;
      }

      .vinyl {
        width: 160px;
        height: 160px;
        border-radius: 50%;
        background:
          radial-gradient(circle at center, #111 0 18%, #222 19% 22%, #111 23%),
          repeating-radial-gradient(circle, #222 0 2px, #111 3px 6px);
        animation: spin 4s linear infinite;
        animation-play-state: paused;
      }

      .vinyl.playing {
        animation-play-state: running;
      }

      @keyframes spin {
        from { transform: rotate(0deg); }
        to   { transform: rotate(360deg); }
      }

      .album-info h1 {
        margin: 0;
        font-size: 1.6rem;
      }

      .album-info p {
        margin-top: 0.5rem;
        color: var(--muted);
      }

      .play-album-btn {
        margin-top: 1rem;
        background: none;
        border: 1px solid var(--accent);
        color: var(--accent);
        padding: 0.4rem 1rem;
        cursor: pointer;
        border-radius: 999px;
      }

      .play-album-btn:hover {
        background: var(--accent-soft);
        color: var(--bg);
      }

      /* ===== Track List ===== */

      .track {
        padding: 0.75rem 0;
        border-bottom: 1px solid rgba(255,255,255,0.06);
      }

      .track.active {
        background: rgba(127,169,155,0.08);
      }

      .track-row {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .play-btn {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        border: 1px solid var(--accent);
        background: none;
        color: var(--accent);
        cursor: pointer;
      }

      .track-title {
        flex: 1;
      }

      .time {
        font-size: 0.65rem;
        color: var(--muted);
        min-width: 70px;
        text-align: right;
      }

      /* ===== Progress Bar ===== */

      .progress-bar {
        height: 4px;
        background: #0b1615;
        margin-top: 6px;
        cursor: pointer;
        position: relative;
      }

      .progress {
        height: 100%;
        width: 0%;
        background: linear-gradient(to right, var(--accent), var(--highlight));
      }
    </style>
  </head>

  <body>
    <main>
      <!-- Album Header -->
      <section class="album-header">
        <div class="vinyl" id="vinyl"></div>

        <div class="album-info">
          <h1>Good Morning, Moon</h1>
          <p>Oceana & The Sprites · 2026</p>
          <button class="play-album-btn">▶ PLAY ALBUM</button>
        </div>
      </section>

      <!-- Track List -->
      <section class="track-list">
        <div class="track" data-src="https://64.media.tumblr.com/8c58b954b365e59efc6cc131e50095cb/596946a391252e32-ad/327c2875bb6d49fc33052c7e6420abebe68e3a47.mp3">
          <div class="track-row">
            <button class="play-btn">▶</button>
            <div class="track-title">Good Morning, Moon</div>
            <span class="time">0:00 / 0:00</span>
          </div>
          <div class="progress-bar"><div class="progress"></div></div>
        </div>

        <div class="track" data-src="audio/track2.mp3">
          <div class="track-row">
            <button class="play-btn">▶</button>
            <div class="track-title">Track Two</div>
            <span class="time">0:00 / 0:00</span>
          </div>
          <div class="progress-bar"><div class="progress"></div></div>
        </div>

        <div class="track" data-src="audio/track3.mp3">
          <div class="track-row">
            <button class="play-btn">▶</button>
            <div class="track-title">Track Three</div>
            <span class="time">0:00 / 0:00</span>
          </div>
          <div class="progress-bar"><div class="progress"></div></div>
        </div>

           <div class="track" data-src="audio/track3.mp3">
          <div class="track-row">
            <button class="play-btn">▶</button>
            <div class="track-title">Track Three</div>
            <span class="time">0:00 / 0:00</span>
          </div>
          <div class="progress-bar"><div class="progress"></div></div>
        </div>

           <div class="track" data-src="audio/track3.mp3">
          <div class="track-row">
            <button class="play-btn">▶</button>
            <div class="track-title">Track Three</div>
            <span class="time">0:00 / 0:00</span>
          </div>
          <div class="progress-bar"><div class="progress"></div></div>
        </div>

           <div class="track" data-src="audio/track3.mp3">
          <div class="track-row">
            <button class="play-btn">▶</button>
            <div class="track-title">Track Three</div>
            <span class="time">0:00 / 0:00</span>
          </div>
          <div class="progress-bar"><div class="progress"></div></div>
        </div>

           <div class="track" data-src="audio/track3.mp3">
          <div class="track-row">
            <button class="play-btn">▶</button>
            <div class="track-title">Track Three</div>
            <span class="time">0:00 / 0:00</span>
          </div>
          <div class="progress-bar"><div class="progress"></div></div>
        </div>

           <div class="track" data-src="audio/track3.mp3">
          <div class="track-row">
            <button class="play-btn">▶</button>
            <div class="track-title">Track Three</div>
            <span class="time">0:00 / 0:00</span>
          </div>
          <div class="progress-bar"><div class="progress"></div></div>
        </div>

           <div class="track" data-src="audio/track3.mp3">
          <div class="track-row">
            <button class="play-btn">▶</button>
            <div class="track-title">Track Three</div>
            <span class="time">0:00 / 0:00</span>
          </div>
          <div class="progress-bar"><div class="progress"></div></div>
        </div>
      </section>
    </main>

    <script>

      const tracks = document.querySelectorAll('.track');
      const albumBtn = document.querySelector('.play-album-btn');
      const vinyl = document.getElementById('vinyl');

      let currentAudio = null;
      let currentTrack = null;
      let albumIndex = 0;
      const FADE_TIME = 1.2;

      function formatTime(s) {
        const m = Math.floor(s / 60);
        const sec = Math.floor(s % 60).toString().padStart(2, '0');
        return `${m}:${sec}`;
      }

      function fadeIn(audio) {
        audio.volume = 0;
        audio.play();
        vinyl.classList.add('playing');
        let v = 0;
        const i = setInterval(() => {
          v += 0.05;
          audio.volume = Math.min(v, 1);
          if (v >= 1) clearInterval(i);
        }, FADE_TIME * 50);
      }

      function fadeOut(audio) {
        let v = audio.volume;
        const i = setInterval(() => {
          v -= 0.05;
          audio.volume = Math.max(v, 0);
          if (v <= 0) {
            audio.pause();
            clearInterval(i);
          }
        }, FADE_TIME * 50);
      }

      tracks.forEach((track, index) => {
        const audio = new Audio(track.dataset.src);
        track.audio = audio;

        const btn = track.querySelector('.play-btn');
        const progress = track.querySelector('.progress');
        const bar = track.querySelector('.progress-bar');
        const time = track.querySelector('.time');

        audio.addEventListener('loadedmetadata', () => {
          time.textContent = `0:00 / ${formatTime(audio.duration)}`;
        });

        btn.addEventListener('click', () => {
          if (currentAudio && currentAudio !== audio) {
            fadeOut(currentAudio);
            currentTrack.classList.remove('active');
            currentTrack.querySelector('.play-btn').textContent = '▶';
          }

          if (audio.paused) {
            fadeIn(audio);
            btn.textContent = '⏸';
            track.classList.add('active');
            currentAudio = audio;
            currentTrack = track;
          } else {
            fadeOut(audio);
            btn.textContent = '▶';
            track.classList.remove('active');
            vinyl.classList.remove('playing');
          }
        });

        audio.addEventListener('timeupdate', () => {
          progress.style.width = (audio.currentTime / audio.duration) * 100 + '%';
          time.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
        });

        bar.addEventListener('click', e => {
          const pct = e.offsetX / bar.offsetWidth;
          audio.currentTime = pct * audio.duration;
        });

        audio.addEventListener('ended', () => {
          btn.textContent = '▶';
          track.classList.remove('active');
          vinyl.classList.remove('playing');
        });
      });

      /* Album play */
      albumBtn.addEventListener('click', () => {
        albumIndex = 0;

        function playNext() {
          if (albumIndex >= tracks.length) return;

          const track = tracks[albumIndex];
          const audio = track.audio;
          const btn = track.querySelector('.play-btn');

          if (currentAudio) fadeOut(currentAudio);

          fadeIn(audio);
          btn.textContent = '⏸';
          track.classList.add('active');
          currentAudio = audio;
          currentTrack = track;

          audio.onended = () => {
            track.classList.remove('active');
            btn.textContent = '▶';
            albumIndex++;
            playNext();
          };
        }

        playNext();
      });
    </script>
  </body>
</html>
